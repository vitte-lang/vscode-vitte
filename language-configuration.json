{
  "comments": {
    "lineComment": "//",
    "blockComment": ["/*", "*/"]
  },

  "brackets": [
    ["{", "}"],
    ["[", "]"],
    ["(", ")"]
  ],
  "colorizedBracketPairs": [
    ["{", "}"],
    ["[", "]"],
    ["(", ")"]
  ],

  "autoClosingPairs": [
    { "open": "{", "close": "}" },
    { "open": "[", "close": "]" },
    { "open": "(", "close": ")" },
    { "open": "\"", "close": "\"", "notIn": ["string", "comment"] },
    { "open": "'",  "close": "'",  "notIn": ["string", "comment"] },
    { "open": "/*", "close": "*/", "notIn": ["string"] }
  ],
  "surroundingPairs": [
    ["{", "}"],
    ["[", "]"],
    ["(", ")"],
    ["\"", "\""],
    ["'", "'"]
  ],

  "autoCloseBefore": ";:,.=}])> \n\t",

  "wordPattern": "(-?\\d*\\.\\d\\w*)|([^\\s`~!@#$%^&*()\\-=+\\[\\]{}\\\\|;:'\",.<>/?]+)",

  "indentationRules": {
    "increaseIndentPattern": "^(.*\\{[^}\"']*|.*\\([^)\"']*|.*\\[[^\\]\"']*)$",
    "decreaseIndentPattern": "^\\s*[\\}\\)\\]].*$",
    "indentNextLinePattern": "^\\s*(if|else|for|while|match|impl|trait|struct|enum|module|do\\s+[A-Za-z_][A-Za-z0-9_]*)\\b.*\\{\\s*$",
    "unIndentedLinePattern": "^\\s*(//|/\\*|\\*).*$"
  },

  "onEnterRules": [
    {
      "beforeText": "^\\s*\\{\\s*$",
      "afterText": "^\\s*\\}\\s*$",
      "action": { "indentAction": 3 }  // IndentOutdent
    },

    /* ---------- Doc block /** ... */ ---------- */
    {
      "beforeText": "^\\s*/\\*\\*(?!/)([^*]|\\*(?!/))*$",
      "afterText": "^\\s*\\*/$",
      "action": { "indentAction": 3, "appendText": " * " }
    },
    {
      "beforeText": "^\\s*/\\*\\*(?!/).*$",
      "action": { "indentAction": 1, "appendText": " * " }  // Indent
    },
    {
      "beforeText": "^\\s*\\*(?!/).*$",
      "action": { "indentAction": 1, "appendText": "* " }
    },
    {
      "beforeText": "^\\s*\\*\\/$",
      "action": { "indentAction": 2 }  // Outdent when closing
    },

    /* ---------- Line doc /// and //! ---------- */
    {
      "beforeText": "^\\s*///.*$",
      "action": { "indentAction": 1, "appendText": "/// " }
    },
    {
      "beforeText": "^\\s*//!.*$",
      "action": { "indentAction": 1, "appendText": "//! " }
    }
  ]
}
